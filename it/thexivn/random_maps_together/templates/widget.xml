{% extends 'core.views/generics/widget.xml' %}

{% block content %}
    <frame pos="0 0" size="{{size_x}} {{size_y}}">
        <quad pos="0 0" size="{{size_x}} {{size_y}}" z-index="0" bgcolor="10101070"/>
        {% if game_started %}
            <quad pos="0 0" size="10 10" z-index="1" image="{{ goal_medal_url }}" autoscale="1" keepratio="Fit"/>
            <label pos="20 -2.2" z-index="1" text="{{ total_goal_medals }}" textsize="3.5" textfont="RajdhaniMono" halign="center" />
            <quad pos="30 0" size="10 10" z-index="1" image="{{ skip_medal_url }}" autoscale="1" keepratio="Fit"/>
            <label pos="50 -2.2" z-index="1" text="{{ total_skip_medals }}" textsize="3.5" textfont="RajdhaniMono" halign="center" />
        {% else %}
            <label pos="30 -2" z-index="1" text="Welcome to RMT HUB" textsize="3.5" textfont="RajdhaniMono" halign="center" />
        {% endif %}
    </frame>
    {% if ui_tools_enabled %}
            {% if game_started %}
            <frame pos="0 -{{size_y}}" size="{{size_x}} 5">
                <quad pos="0 0" size="{{size_x}} 5" z-index="0" bgcolor="44664770"/>
                {% if map_loading %}
                    <label pos="0 -2.5" size="{{size_x}} 5" z-index="1" text="LOADING NEXT MAP..."
                           textsize="3" textfont="RajdhaniMono" halign="left" valign="center" />
                {% else %}
                    <label pos="0 -2.5" size="25 5" z-index="1" text="Stop" textsize="2.5" textfont="RajdhaniMono"
                           halign="left" valign="center" style="CardButtonSmallS"
                           id="rmt_start_btn" scriptevents="1" action="{{ id }}__ui_stop_rmt" />
                    {% if skip_medal_visible %}
                        <label pos="30 -2.5" size="25 5" z-index="1" text="Take Skip Medal" textsize="2.5" textfont="RajdhaniMono"
                               halign="left" valign="center" style="CardButtonSmallS"
                               id="rmt_gold_btn" scriptevents="1" action="{{ id }}__ui_gold_skips" />
                    {% elif skip_pre_patch_ice_visible %}
                        <label pos="30 -2.5" size="28 5" z-index="1" text="Skip Pre Patch Ice" textsize="2.5" textfont="RajdhaniMono"
                                halign="left" valign="center" style="CardButtonSmallS"
                                id="rmt_skip_btn" scriptevents="1" action="{{ id }}__ui_free_skip" />
                    {% elif free_skip_visible %}
                        <label pos="30 -2.5" size="28 5" z-index="1" text="Skip" textsize="2.5" textfont="RajdhaniMono"
                                halign="left" valign="center" style="CardButtonSmallS"
                                id="rmt_skip_btn" scriptevents="1" action="{{ id }}__ui_free_skip" />
                    {% endif %}
                {% endif %}
            </frame>
            {% else %}
            <frame pos="0 -{{size_y}}" size="{{size_x}} 37">
            <quad pos="0 0" size="{{size_x}} 37" z-index="0" bgcolor="44664770"/>
                <label pos="0 -2.6" size="10 5" z-index="1" text="Time Limit:" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center"/>
                <label pos="11 -2.6" z-index="1" text="{% if game_time_seconds == 1800 %}$000{% endif %}30m" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center" style="CardButtonSmallXS" scriptevents="1" action="{{ id }}__ui_set_game_time_30m"/>
                <label pos="23 -2.6" z-index="1" text="{% if game_time_seconds == 3600 %}$000{% endif %}1h" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center" style="CardButtonSmallXS" scriptevents="1" action="{{ id }}__ui_set_game_time_1h"/>
                <label pos="35 -2.6" z-index="1" text="{% if game_time_seconds == 7200 %}$000{% endif %}2h" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center" style="CardButtonSmallXS" scriptevents="1" action="{{ id }}__ui_set_game_time_2h"/>
                <entry pos="47.7 -2.6" z-index="1" name="game_time_seconds" selecttext="1" textsize="2.5" size="10.6 5.2" textfont="RajdhaniMono" halign="left" valign="center" default="{{ game_time_seconds }}"/>

                <label pos="0 -10" size="11 5" z-index="1" text="Goal Medal:" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center"/>
                <label pos="11 -10" z-index="1" text="{% if goal_medal == 'AUTHOR' %}$000{% endif %}Author" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center" style="CardButtonSmallXS" scriptevents="1" action="{{ id }}__ui_set_goal_medal_author"/>
                <label pos="23 -10" z-index="1" text="{% if goal_medal == 'GOLD' %}$000{% endif %}Gold" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center" style="CardButtonSmallXS" scriptevents="1" action="{{ id }}__ui_set_goal_medal_gold"/>
                <label pos="35 -10" z-index="1" text="{% if goal_medal == 'SILVER' %}$000{% endif %}Silver" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center" style="CardButtonSmallXS" scriptevents="1" action="{{ id }}__ui_set_goal_medal_silver"/>

                <label pos="0 -17.4" size="11 5" z-index="1" text="Skip Medal:" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center"/>
                <label pos="11 -17.4" z-index="1" text="{% if skip_medal == 'GOLD' %}$000{% endif %}Gold" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center" style="CardButtonSmallXS" scriptevents="1" action="{{ id }}__ui_set_skip_medal_gold"/>
                <label pos="23 -17.4" z-index="1" text="{% if skip_medal == 'SILVER' %}$000{% endif %}Silver" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center" style="CardButtonSmallXS" scriptevents="1" action="{{ id }}__ui_set_skip_medal_silver"/>
                <label pos="35 -17.4" z-index="1" text="{% if skip_medal == 'BRONZE' %}$000{% endif %}Bronze" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center" style="CardButtonSmallXS" scriptevents="1" action="{{ id }}__ui_set_skip_medal_bronze"/>

                <label pos="0 -24.8" size="13 5" z-index="1" text="Infinite Skips:" textsize="2.5" textfont="RajdhaniMono" halign="left" valign="center"/>
                <quad pos="14 -24.8" z-index="1" size="5 5" halign="left" valign="center" style="Icons64x64_1" substyle="Check" styleselected="{{ infinite_skips }}" scriptevents="1" action="{{ id }}__ui_toggle_infinite_skips"/>

                <label pos="0 -34" size="30 5" z-index="1" text="Start RMT" textsize="2.5" textfont="RajdhaniMono"
                       halign="left" valign="center" style="CardButtonSmall"
                       id="rmt_stop_btn" scriptevents="1" action="{{ id }}__ui_start_rmt" />
            </frame>
            {% endif %}
    {% endif %}
{% endblock %}
